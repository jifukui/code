<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Vue 自定义指令</title>
<script src="./vue.js"></script>
</head>
<body>
<div id="test1">
    <div v-jifukui-directive:nameji.a="{color:'yellow'}" name="jianghu" a="paramA" b="ParamB"><div>{{jifukui}}</div></div>
</div>
<script>
    var s = JSON.stringify
    // Vue.directive('jifukui-directive',
    //     {
    //         params:['a'],
    //         insert:function(el,binding)
    //         {
    //             el.style.backgroundColor="blue"
    //             console.log("I have insert")
    //         },
    //         bind:function(el){
                
    //             el.style.backgroundColor="red"
    //             console.log(el.getAttribute("name"))
    //             console.log(this.params)
    //             console.log("i Have bind")
    //         },
    //         update:function(el,binding,vnode)
    //         {
    //             console.log(s(binding.name))
    //             console.log("I have update")
    //             el.style.backgroundColor=binding.value.color
    //             console.log(el.getAttribute("name"))
    //                 el.innerHTML =
    //                             'name: '       + s(binding.name) + '<br>' +
    //                             'value: '      + s(binding.value) + '<br>' +
    //                             'expression: ' + s(binding.expression) + '<br>' +
    //                             'argument: '   + s(binding.arg) + '<br>' +
    //                             'modifiers: '  + s(binding.modifiers) + '<br>' +
    //                             'vnode keys: ' + Object.keys(vnode).join(', ')
    //         },
    //         unbind:function(el){
    //             console.log(el.value);
    //             console.log("i have unbind")
    //         },

    //     })
  var vm1=new Vue({
    el:'#test1',
    data:{
        jifukui:"我自己的组件"
    },
    directives:{
        'jifukui-directive':{
            params:['a','b','name'],
            insert:function(el,binding)
            {
                el.style.backgroundColor="blue"
                console.log("I have insert")
            },
            bind:function(el){
                
                el.style.backgroundColor="red"
                console.log(el.getAttribute("name"))
                console.log(this.params)
                console.log("i Have bind")
            },
            update:function(el,binding,vnode,params)
            {
                console.log(s(binding.name))
                console.log("I have update")
                el.style.backgroundColor=binding.value.color
                console.log(params.a)
                console.log(el.getAttribute("name"))
                console.log(el.getAttribute("a"))
                    el.innerHTML =
                                'name: '       + s(binding.name) + '<br>' +
                                'value: '      + s(binding.value) + '<br>' +
                                'expression: ' + s(binding.expression) + '<br>' +
                                'argument: '   + s(binding.arg) + '<br>' +
                                'modifiers: '  + s(binding.modifiers) + '<br>' +
                                'vnode keys: ' + Object.keys(vnode).join(', ')
            },
            unbind:function(el){
                console.log(el.value);
                console.log("i have unbind")
            },

        }
    }
});
</script>
</body>
</html>